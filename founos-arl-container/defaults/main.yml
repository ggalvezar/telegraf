---
# Set default value for remove old docker clients
remove_old: false

# Set default value for install docker compose package
docker_compose: false

# Set default value for only_remove
only_remove: false

# Versions:
# docker_rhel -> rhel7 (rhel version)
# podman_rhel -> rhel7 and rhel8
# docker_ce   -> rhel7 and rhel8 (docker community edition)
version: "{{
          'docker_rhel' if ansible_distribution_major_version == '7'
          else
            ('podman_rhel' if  ansible_distribution_major_version == '8'
            )
          }}"

# List of packages to be delete when 'remove_old' = True
remove_docker_pkg:
  - docker
  - podman
  - docker-ce
  - docker-ce-cli
  - docker-client
  - docker-client-latest
  - docker-common
  - docker-latest
  - docker-latest-logrotate
  - docker-logrotate
  - docker-engine
  - containerd.io

# List of packages to be installed when 'version' = docker-ce
docker_ce_pkg:
  - docker-ce
  - docker-ce-cli
  - containerd.io

# List of packages to be installed when 'version' =  docker_rhel
docker_rhel_pkg:
  - docker

# NOTE: podman packages are listed on 'install_podman_rhel.yml' role
# because on RHEL8 podman must be installed with modules instead of
# package that ar used on RHEL7

# Product names that must be enabled before repositories can be enabled
pool_name:
  docker_rhel:
    - 'docker'
    - 'Red Hat Enterprise Linux Server'
  docker_ce:
    - 'docker'
    - 'Red Hat Enterprise Linux Server'
  podman_rhel:
    - 'Red Hat Enterprise Linux Server'

# Repositories names that are needed to install docker
repos:
  docker_rhel:
    Maipo:
      - 'rhel-7-server-extras-rpms'
  docker_ce:
    Maipo:
      - '*rhel-7-x86_64-docker'
      - 'rhel-7-server-extras-rpms'
    Ootpa:
      - '*rhel-7-x86_64-docker'
      - 'rhel-8-for-x86_64-appstream-rpms'
  podman_rhel:
    Maipo:
      - 'rhel-7-server-extras-rpms'
    Ootpa:
      - 'rhel-8-for-x86_64-appstream-rpms'
